---
title: "graphicsutils"
output:
  md_document:
    variant: markdown_github
---


```{r echo=FALSE}
knitr::opts_chunk$set(
  fig.path = "inst/assets/img/",
  comment = "#>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  fig.width=4,
  fig.height=4
)
```


# Description

*graphicsutils* is an R package including a set of graphical functions. Just as the [*plotrix*](http://cran.r-project.org/web/packages/plotrix/index.html) package, it adds several graphics utilities based on the core package *graphics*. Note that this package is not intended to be sumitted to the CRAN.
First, because many of these functions already exist in other packages (in a different form though).
Second, because I use it to improve my coding skill and my experience in writing a R package. This allows me to make some functions disappearing without me explaining why!
Nevertheless, this package may help users to deal with typical issues they may encounter when using *graphics*.
If some of these functions turn out to be really helpful then they will likely appear in a different package which will be submitted to the CRAN. Also, *graphicsutils* is not intended to be used with [ggplot2](http://cran.r-project.org/web/packages/ggplot2/index.html) package.

- Functions are written using Camel case (e.g. `keepWords()`)


## Status

[![Build status](https://ci.appveyor.com/api/projects/status/x5ngkcflyfiixr37?svg=true)](https://ci.appveyor.com/project/KevCaz/graphicsutils) [![Travis](https://travis-ci.org/KevCaz/graphicsutils.svg?branch=master)](https://travis-ci.org/KevCaz/graphicsutils) [![codecov](https://codecov.io/gh/KevCaz/graphicsutils/branch/master/graph/badge.svg)](https://codecov.io/gh/KevCaz/graphicsutils)
![](https://img.shields.io/badge/licence-GPLv3-8f10cb.svg)


# Installation

To install the package, use the [*devtools*](http://cran.r-project.org/web/packages/devtools/index.html) package.

```{r eval=FALSE}
install.packages("devtools")
devtools::install_github("KevCaz/graphicsutils")
```

Then, load it:

```{r, eval=FALSE}
library(graphicsutils)
```

<!-- use devel version -->

```{r, echo=FALSE}
devtools::load_all()
```




# Main features

## Empty your plot

To start a figure from scratch it is often useful to get a plot without nothing but the correct size of axes.
`plot0()` allows the user to do so :


```{r plot0}
plot0(c(0,1),c(0,1))
```

Empty, isn't it?
Also, it can be filled with any color using the `fill` parameter.


```{r}
plot0(c(0,1),c(0,1), fill="lightskyblue1")
```


## Add a box

The `box2` function allows the user to add any axes around the plot in a more flexoble way.

```{r box2}
par(mar=rep(2,4))
plot0()
box2(which="figure", lwd=2, fill="grey30")
box2(side=12, lwd=2, fill="grey80")
axis(1)
axis(2)
```


## Add an image

The `pchImage()` function eases the uses of `rasterImage()` to add images (including png and jpeg files) on a graph. It allows to change the color of the whole image.

```{r pchImage}
pathLogo <- system.file("img", "Rlogo.png", package="png")
par(mar=c(4,1,4,1), mfrow=c(1,2))
plot0()
pchImage(0, 0, file=pathLogo, cex.x =4.5, cex.y=4)
plot0()
pchImage(0, 0, file=pathLogo, cex.x =4.5, cex.y=4, col="grey25", angle=25)
```


## A stacked areas chart

### A simple stacked areas


```{r envelop,   fig.width=6,  fig.height=6}
plot0(c(0,10),c(0,10))
sz <- 100
seqx <- seq(0, 10, length.out=sz)
seqy1 <- 0.2*seqx*runif(sz, 0, 1)
seqy2 <- 4+0.25*seqx*runif(sz, 0, 1)
seqy3 <- 8+0.25*seqx*runif(sz, 0, 1)
envelop(seqx, seqy1, seqy2, col="grey85", border=NA)
```

### A complete stacked areas


```{r stackedArea,  fig.width=6,  fig.height=6}
x <- data.frame(matrix(runif(200,2,10), 8, 25))
stackedAreas(x)
```

## Polar plot

```{r,   fig.width=6,  fig.height=6}
polarPlot(1:40, stats::runif(40), to=1.9*pi, col="grey30", border="grey80")
```

## Get pretty ranges

```{r}
vec <- stats::runif(20)
range(vec)
prettyRange(vec)
prettyRange(c(3.85,3.88245))
```

## Interactive functions

Some functions are interactive and fairly understandable!
So, I suggest you try the following functions:

```{r eval=FALSE}
pickColors()
```

```{r eval=FALSE}
layout2()
```

## Colors

`darken()` and `lighten()` functions are convenient way to produce consistent set of color with minimal effort. Also, use `showPalette()` to display them!


```{r}
someblue <- darken("blue", 10*1:9)
showPalette(someblue)
```

```{r}
somered <- lighten("red", 10*1:9)
showPalette(somered, add_codecolor=TRUE)
```


# Status


# License
The *graphicsutils* package is licensed under the GPLv3 (http://www.gnu.org/licenses/gpl.html).



# To do list

1. [ ] Add code coverage (so far, I didn't implement many unit tests :scream:),
2. [ ] Add a vignette gathering examples (pending...),
3. ~Create a sustainable system to include different shapes (I am currently thinking about it);~ => for another package
4. ~gradientPolygon must be completed to include images before exporting it;~ =>Â not with graphics' plots.
5. [ ] add interactive mode in `showPalette()` function;
6. [ ] `vectfield2d()` needs to be reviewed => I'll do so when I'll integrate nice arrows.
